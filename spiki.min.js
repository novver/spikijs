(()=>{"use strict";var e=(()=>{var $=Object,q=Array,f=Reflect,e=Promise,o=Node,S=String,c=Number,j=document,D="length",F="value",K="push",M="forEach",B="indexOf",H="split",R="slice",W="call",l="get",z="prototype",s="hasOwnProperty",u="getPrototypeOf",t="defineProperty",G="create",I="isArray",J="getAttribute",Q="removeAttribute",U="hasAttribute",V="tagName",X="type",Y="name",_="checked",Z="parentNode",ee="nextSibling",a="textContent",n="innerHTML",re="replaceWith",te="insertBefore",ae="cloneNode",ne="remove",oe="createTextNode",le="addEventListener",ie="input",ve="checkbox",fe="function",se="class",ue="object",pe="unshift",ce="trim",_e="cleanups",de="nodes",i="deps",ye="className",he="destroy",me="init",ge="charCodeAt",v="sched",d="string",xe="unmount",be="attr",p=$[G](null),y=[],h=!1,m=null,g=!1,r=e.resolve(),Ae=e=>{e._q||(e._q=!0,y[K](e),h||(h=!0,r.then(()=>{var e=y;h=!(y=[]);for(var r=e[D];r--;)e[r]._q=!1,e[r]()})))},Pe=(e,r)=>{if(typeof r==d)return{ctx:e,val:e?e[r]:void 0};for(var t=0,a=r[D];t<a-1&&e;)e=e[r[t++]];return{ctx:e,val:e?e[r[a-1]]:void 0}},x={};[K,"pop","shift",pe,"splice","sort","reverse"][M](r=>{x[r]=function(...e){g=!0;try{return q[z][r].apply(this,e)}finally{g=!1,b(this,D)}}});var we=(e,r)=>{!m||-1===(r=(e=e._d||($[t](e,"_d",{value:$[G](null),writable:!0}),e._d))[r]||(e[r]=[]))[B](m)&&(r[K](m),m[i][K](r))},b=(e,r)=>{if(!g&&e._d&&e._d[r])for(var t=e._d[r][R](),a=0,n=t[D];a<n;a++){var o=t[a];o[v]?o[v](o):o()}},A=e=>{for(var r=e[i][D];r--;){var t=e[i][r],a=t[B](e);-1!==a&&(t[a]=t[t[D]-1],t.pop())}e[i]=[]},ke=(r,e)=>{var t=()=>{A(t);var e=m;m=t;try{r()}finally{m=e}};return t[i]=[],t[v]=e,t(),()=>A(t)},Ne=e=>{if(!e||typeof e!=ue||e._y||e instanceof o)return e;if(e._p)return e._p;var r=new Proxy(e,{get:(e,r,t)=>{if("_y"===r)return!0;if("_d"===r)return e._d;if(q[I](e)&&x[s](r))return x[r];var a=$.getOwnPropertyDescriptor(e,r);if(a&&a[l]){var n="_"+r;return n in e||ke(()=>t[n]=a[l][W](t)),t[n]}return we(e,r),!(r=f[l](e,r,t))||typeof r!=ue||r instanceof o?r:Ne(r)},set:(e,r,t,a)=>{var n=e[r],o=q[I](e),l=o?c(r)<e[D]:$[z][s][W](e,r);if(!o&&!l)for(var i=$[u](e);i&&i!==$[z];){if($[z][s][W](i,r)){var v=f.set(i,r,t);return g||t===n||b(e,r),v}i=$[u](i)}return v=f.set(e,r,t,a),!g&&v&&(l&&t===n||(b(e,r),o?b(e,D):l||b(e,"_k"))),v},deleteProperty:(e,r)=>{var t=$[z][s][W](e,r),a=f.deleteProperty(e,r);return a&&t&&(b(e,r),q[I](e)?b(e,D):b(e,"_k")),a},ownKeys:e=>(we(e,"_k"),f.ownKeys(e))});return $[t](e,"_p",{value:r,enumerable:!1}),r},P=Ne({}),Ee=$[G](null);Ee.text=(e,r)=>{r=null==r?"":r,e[a]!==S(r)&&(e[a]=r)},Ee.html=(e,r)=>{e[n]!=r&&(e[n]=null==r?"":r)},Ee[F]=(e,r)=>{e[X]===ve?e[_]=!!r:"radio"===e[X]?e[_]=e[F]==r:e[F]!=r&&(e[F]=null==r?"":r)},Ee[be]=(e,r,t)=>{null==r||!1===r?e[Q](t):(r=!0===r?"":S(r),e[J](t)!==r&&e.setAttribute(t,r))},Ee[se]=(e,r)=>{var t=e._n||"",a="";if(typeof r==d)a=r;else if(r)for(var n in r)r[n]&&(a+=(a?" ":"")+n);t=t+(t&&a?" ":"")+a,e[ye]!==t&&(e[ye]=t)};var Oe=(E,e)=>{if(E._m)return E._m;var r=E[J]("s-data");if(p[r]){r=p[r](),e&&$.setPrototypeOf(r,e);var O=Ne(r);O.$refs={},O.$root=E,O.$store=P,O.$parent=e;var t=[],a=$[G](null),T=e=>{var r=e.target;if(e[X]!==ie||!r._c)for(var t=E[Z],a=e[X];r&&r!==t;){var n=r._h&&r._h[a];if(n)for(var o=r._s,l=n[D];l--;){var i=n[l],v=i.p;if(i.model){var f=r[X]===ve?r[_]:r[F];if(typeof f!=d||(i=f[ce]())&&isFinite(i)&&(48===i[ge](0)&&1!==i[D]&&46!==i[ge](1)||(f=c(i))),typeof v==d)o&&(o[v]=f);else{for(var s=o,u=0,p=v[D]-1;u<p&&s;)s=s[v[u++]];s&&(s[v[p]]=f)}}else typeof(f=Pe(o,v)).val==fe&&f.val[W](f.ctx,e)}r=r[Z]}},C=e=>{a[e]||(a[e]=!0,E[le](e,T))},L=(h,m,t)=>{if(1===h.nodeType&&!h[U]("s-ignore"))if(h!==E&&h[U]("s-data"))(e=Oe(h,m))&&t[K](e[xe]);else{var e=!(v=h[J]("s-if"))&&"TEMPLATE"===h[V]&&h[J]("s-for"),a=[];if(h[U](se)&&!h._n&&(h._n=h[ye]),v){var g=j[oe](""),r=null,n=[];h[re](g);var o="!"===v[0],l=-1===(i=o?v[R](1):v)[B](".")?i:i[H](".");return t[K](()=>{n[M](e=>e())}),t[K](ke(()=>{var e=Pe(m,l).val;o&&(e=!e),e?r||((r=h[ae](!0))[Q]("s-if"),L(r,m,n),g[Z][te](r,g)):r&&(n[M](e=>e()),n=[],r[ne](),r=null)},Ae))}if(e&&-1!==(v=e[B](" in "))){var x,i=e[R](0,v)[ce](),v=e[R](v+4)[ce](),b=(i=i.replace(/[()]/g,"")[H](","))[0][ce](),A=i[1]?i[1][ce]():null,P=-1===v[B](".")?v:v[H]("."),w=(v=h[J]("s-key"))?-1===v[B](".")?v:v[H]("."):null,g=j[oe](""),k=$[G](null);return h[re](g),t[K](()=>{for(var e in k)k[e][_e][M](e=>e())}),t[K](ke(()=>{var e=Pe(m,P).val||[];q[I](e)&&we(e,D);var r=j.createDocumentFragment(),t=g;x=$[G](null);for(var a,n=q[I](e),o=n?e:$.keys(e),l=(n?e:o)[D],i=0;i<l;i++){var v=n?i:o[i],f=n?e[i]:e[v],s=null==f||typeof f!=ue?S(f):w?Pe(f,w).val:S(v)+"_o";x[s]&&(s+="_"+i);var u=k[s];if(u)u.scope[b]=f,A&&(u.scope[A]=v);else{var p=h.content[ae](!0),c=Ne($[G](m));c[b]=f,A&&(c[A]=v);for(var _=q[z][R][W](p.childNodes),d=[],y=0;y<_[D];y++)L(_[y],c,d);u={nodes:_,scope:c,cleanups:d},k[s]=u}if(u[de][0]!==t[ee]){for(y=0;y<u[de][D];y++)r.appendChild(u[de][y]);t[Z][te](r,t[ee])}t=u[de][u[de][D]-1],x[s]=!0}for(a in k)x[a]||(k[a][_e][M](e=>e()),k[a][de][M](e=>e[ne]()),delete k[a])},Ae))}if(h.hasAttributes())for(var f=h.attributes,s=f[D];s--;){var u,p,c=f[s],_=c[Y],d=c[F];58===_[ge](0)?(u=_[R](1),c=(p=33===d[ge](0))?d[R](1):d,l=-1===c[B](".")?c:c[H]("."),a[K]({type:be,name:u,path:l,neg:p})):115===_[ge](0)&&45===_[ge](1)&&(p=_[R](2),l=-1===d[B](".")?d:d[H]("."),p===me||p===he?(e=>{var r=Pe(m,l);typeof r.val==fe&&(e===me?Ae(()=>{var e=r.val[W](r.ctx,h);typeof e==fe&&t[K](e)}):t[K](()=>r.val[W](r.ctx,h)))})(p):"effect"===p?t[K](ke(()=>{var e=Pe(m,l);typeof e.val==fe&&e.val[W](e.ctx,h)},Ae)):"model"===p?(a[K]({type:F,path:l}),h._s=m,h._h=h._h||{},(_=h[X]===ve||"radio"===h[X]||"SELECT"===h[V]?"change":ie)==ie&&(h[le]("compositionstart",()=>h._c=!0),h[le]("compositionend",()=>{h._c=!1,T({target:h,type:ie})})),(h._h[_]=h._h[_]||[])[pe]({model:!0,p:l}),C(_)):"ref"===p?O.$refs[d]=h:Ee[p]?a[K]({type:p,path:l}):(h._s=m,h._h=h._h||{},(h._h[p]=h._h[p]||[])[K]({p:l}),C(p)))}a[D]&&t[K](ke(()=>{for(var e=a[D];e--;){var r=a[e],t=(t=Pe(m,r.path)).val&&typeof t.val==fe?t.val[W](t.ctx,h):t.val;r[X]===be?(r.neg&&(t=!t),r[Y]===se?Ee[se](h,t):Ee[be](h,t,r[Y])):Ee[r[X]](h,t)}},Ae));for(var y=h.firstChild;y;){var N=y[ee];L(y,m,t),y=N}}};return L(E,O,t),O[me]&&O[me](),e={unmount:()=>{for(var e in O[he]&&O[he][W](O),t[M](e=>e()),a)E.removeEventListener(e,T);E._m=null}},E._m=e}};return{data:(e,r)=>{p[e]=r},start:()=>{for(var e=j.querySelectorAll("[s-data]"),r=e[D];r--;)Oe(e[r])},store:(e,r)=>void 0===r?P[e]:P[e]=r,raw:e=>e&&e._p||e,mount:e=>Oe(e),unmount:e=>{e&&e._m&&e._m[xe]()}}})();window.spiki=e})();
