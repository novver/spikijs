(()=>{"use strict";var e=(()=>{var n,r,A=Object,P=Array,T=Reflect,e=Promise,L=Map,N=Set,t=WeakMap,a=Node,k=document,$="length",C="value",S="push",M="forEach",u="indexOf",O="split",j="slice",R="call",W="get",q="set",z="add",B="delete",D="has",i="clear",F="prototype",H="hasOwnProperty",I="create",U="isArray",X="getAttribute",G="removeAttribute",J="hasAttribute",K="tagName",Q="type",V="name",v="checked",Y="parentNode",Z="nextSibling",ee="firstChild",re="replaceWith",te="insertBefore",ne="cloneNode",ae="remove",oe="createTextNode",se="addEventListener",ie="checkbox",le="function",ue="object",o="dependencies",ve="cleanups",fe="nodes",ce="context",s="scheduler",l=A[I](null),pe=new t,f=new t,c=new t,p=new L,d=new N,de=/^\s*(.*?)\s+in\s+(.+)\s*$/,y=!0,_=e.resolve(),h={};[S,"pop","shift","unshift","splice","sort","reverse"][M](t=>{h[t]=function(){for(var e=[],r=0;r<arguments[$];r++)e[r]=arguments[r];y=!1;try{return P[F][t].apply(this,e)}finally{y=!0,m(this,$)}}});var ye=(e,r)=>{if("string"!=typeof r)return{value:r,context:e};if(-1===r[u]("."))return{value:e?e[r]:void 0,context:e};var t=p[W](r);t||(1e3<p.size&&p[i](),t=r[O]("."),p[q](r,t));for(var n=e,a=e,o=0;o<t[$];o++){var s=t[o];if(null==n)return{value:n,context:null};n=(a=n)[s]}return{value:n,context:a}},_e=e=>!d[D](e)&&d[z](e)&&!r&&(r=!0)&&_.then(()=>{d[M](e=>e()),d[i](),r=!1}),he=(e,r)=>{var t;n&&((t=f[W](e))||(t=new L,f[q](e,t)),(e=t[W](r))||(e=new N,t[q](r,e)),e[z](n),n[o][z](e))},m=(e,r)=>{var t,n;y&&(t=f[W](e))&&(n=t[W](r))&&n[M](e=>{e[s]?e[s](e):e()})},me=(r,e)=>{var t=()=>{t[o][M](e=>e[B](t)),t[o][i]();var e=n;n=t;try{r()}finally{n=e}};return t[o]=new N,t[s]=e,t(),()=>{t[o][M](e=>e[B](t)),t[o][i](),d[B](t)}},w=e=>{if(!e||typeof e!=ue||e._p||e instanceof a)return e;var r=c[W](e);return r||(r=new Proxy(e,{get:(e,r,t)=>"_r"===r?e:"_p"===r||(P[U](e)&&h[H](r)?h[r]:(he(e,r),!(t=T[W](e,r,t))||typeof t!=ue||t instanceof a?t:w(t))),set:(e,r,t,n)=>{var a=e[r],o=P[U](e)?Number(r)<e[$]:A[F][H][R](e,r),n=T[q](e,r,t,n);return y&&(o?a!==t&&m(e,r):(m(e,r),P[U](e)&&m(e,$))),n},deleteProperty:(e,r)=>{var t=A[F][H][R](e,r),n=T.deleteProperty(e,r);return n&&t&&(m(e,r),P[U](e)&&m(e,$)),n}}),c[q](e,r),r)},g=w({}),we={text:(e,r)=>{e.textContent=null!=r?r:""},html:(e,r)=>{e.innerHTML=null!=r?r:""},value:(e,r)=>{e[Q]===ie?e[v]=!!r:"radio"===e[Q]&&e[V]?e[v]=e[C]==r:e[C]!=r&&(e[C]=null!=r?r:"")},attr:(e,r,t)=>{null==r||!1===r?e[G](t):e.setAttribute(t,!0===r?"":r)},class:(t,e)=>{"string"==typeof e&&e[O](/\s+/)[M](e=>{var r;e&&(e=(r="!"===e[0])?e[j](1):e,t.classList[r?ae:z](e))})},init:()=>{},destroy:()=>{}},ge=d=>{if(!d._m){d._m=1;var e=d[X]("s-data");if(e=l[e]){var x=w(e());x.$refs={},x.$root=d,x.$store=g;var r=[],b=e=>{var r,t,n,a,o,s=e.target;for(!s._t||"input"!==e[Q]&&"change"!==e[Q]||(a=s._t,r=s._s||x,t=s[Q]===ie?s[v]:s[C],n=ye(r,a)[ce],-1===a[u](".")?r[a]=t:n&&(n[(a=a[O]("."))[a[$]-1]]=t));s&&s!==d[Y];){var i,l=pe[W](s);l&&(o=l[e[Q]])&&(i=s._s||x,i=(l=ye(i,o))[C],l=l[ce],typeof i==le&&i[R](l,e)),s=s[Y]}},E=(y,_,o)=>{if(1===y.nodeType&&!y[J]("s-ignore"))if(y!==d&&y[J]("s-data"))(r=ge(y))&&o[S](r.unmount);else{var t;if(t=y[X]("s-if")){var n,a=k[oe](""),s=[];return y[re](a),o[S](()=>{s[M](e=>e())}),o[S](me(()=>{var e=(r=ye(_,t))[C],r=r[ce];(typeof e==le?e[R](r,y):e)?n||((n=y[ne](!0))[G]("s-if"),E(n,_,s),a[Y][te](n,a)):n&&(s[M](e=>e()),s[$]=0,n[ae](),n=null)},_e))}if("TEMPLATE"===y[K]&&(t=y[X]("s-for"))){var e=t.match(de);if(!e)return;var r=e[1].replace(/[()]/g,""),i=e[2],h=(r=r[O](","))[0].trim(),m=r[1]?r[1].trim():null,w=y[X]("s-key"),l=k[oe]("");y[re](l);var g=new L;return o[S](()=>{g[M](e=>{e[ve][M](e=>e())})}),o[S](me(()=>{var c=ye(_,i)[C];P[U](c)&&he(c,$);var p=l,e=P[U](c)?c:c?A.keys(c):[],d=new L;e[M]((e,r)=>{var t,n,a=P[U](c)?r:e,o=P[U](c)?e:c[e],s=w&&o?o[w]:typeof o==ue&&o?o:a+"_"+o,e=e=>{A.defineProperty(e,h,{configurable:!0,enumerable:!0,get:()=>c[a],set:e=>{c[a]=e}})};if(r=g[W](s))e(r.scope),m&&(r.scope[m]=a);else{var o=y.content[ne](!0),i=(n=_,n=A[I](n),new Proxy(n,{set:(e,r,t,n)=>{if(e[H](r))return T[q](e,r,t,n);for(var a=e;a&&!A[F][H][R](a,r);)a=A.getPrototypeOf(a);return T[q](a||e,r,t)}})),l=[];e(i),m&&(i[m]=a);for(var u=[],v=o[ee];v;){u[S](v);var f=v[Z];E(v,i,l),v=f}r={nodes:u,scope:i,cleanups:l}}r[fe][0]!==p[Z]&&(t=k.createDocumentFragment(),r[fe][M](e=>t.appendChild(e)),p[Y][te](t,p[Z])),p=r[fe][r[fe][$]-1],d[q](s,r),g[B](s)}),g[M](e=>{e[ve][M](e=>e()),e[fe][M](e=>e[ae]())}),g=d},_e))}var u=y.attributes,v=!1;if(u&&0<u[$])for(var f=u[$]-1;0<=f;f--)(e=>{var t,r,n=e[V],a=e[C];":"===n[0]?o[S](me(()=>{var e=(t=ye(_,a))[C],r=t[ce],t="class"===n[j](1)?"class":"attr";we[t](y,typeof e==le?e[R](r,y):e,n[j](1))},_e)):"s"===n[0]&&"-"===n[1]&&("ref"===(t=n[j](2))?x.$refs[a]=y:"model"===t?(v=!0,o[S](me(()=>{var e=ye(_,a);we[C](y,e[C])},_e)),/^(INPUT|SELECT|TEXTAREA)$/.test(y[K])&&(y._t=a,r=y[Q]===ie||"radio"===y[Q]||"SELECT"===y[K]?"change":"input",d._e||(d._e=new N),d._e[D](r)||(d._e[z](r),d[se](r,b)))):we[t]?o[S](me(()=>{var e=(r=ye(_,a))[C],r=r[ce];we[t](y,typeof e==le?e[R](r,y):e)},_e)):(v=!0,(r=pe[W](y))||(r={},pe[q](y,r)),r[t]=a,d._e||(d._e=new N),d._e[D](t)||(d._e[z](t),d[se](t,b))))})(u[f]);v&&(y._s=_);for(var c=y[ee];c;){var p=c[Z];E(c,_,o),c=p}}};return E(d,x,r),x.init&&x.init(),{unmount:()=>{x.destroy&&x.destroy[R](x),r[M](e=>e()),d._e&&d._e[M](e=>{d.removeEventListener(e,b)}),d._m=0}}}}};return{data:(e,r)=>{l[e]=r},start:()=>{for(var e=k.querySelectorAll("[s-data]"),r=0;r<e[$];r++)ge(e[r])},store:(e,r)=>void 0===r?g[e]:g[e]=r,raw:e=>e&&e._r||e}})();window.spiki=e})();
