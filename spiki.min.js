(()=>{"use strict";var e=(()=>{var q=Object,S=Array,f=Reflect,e=Promise,o=Node,j=String,c=Number,D=document,i=console,F="length",K="value",M="push",B="forEach",H="indexOf",R="split",W="slice",z="call",l="get",G="prototype",s="hasOwnProperty",u="getPrototypeOf",t="defineProperty",I="create",J="isArray",Q="getAttribute",U="removeAttribute",V="hasAttribute",X="tagName",Y="type",Z="name",d="checked",ee="parentNode",re="nextSibling",a="textContent",n="innerHTML",te="replaceWith",ae="insertBefore",ne="cloneNode",oe="remove",ie="createTextNode",le="addEventListener",ve="input",fe="checkbox",se="function",ue="class",pe="object",ce="unshift",de="trim",_e="cleanups",ye="nodes",v="deps",he="className",me="destroy",ge="init",be="charCodeAt",p="sched",_="string",xe="unmount",Pe="attr",y=q[I](null),h=[],m=!1,g=null,b=!1,r=e.resolve(),we=e=>{e._q||(e._q=!0,h[M](e),m||(m=!0,r.then(()=>{var e=h;m=!(h=[]);for(var r=e[F];r--;)e[r]._q=!1,e[r]()})))},Ae=(e,r)=>{var t,a=e;if(typeof r==_)t=e?e[r]:void 0;else{for(var n=0,o=r[F];n<o-1&&a;)a=a[r[n++]];t=a?a[r[o-1]]:void 0}return void 0===t&&(e=S[J](r)?r.join("."):r,i.warn("Property undefined:"+e)),{ctx:a,val:t}},x={};[M,"pop","shift",ce,"splice","sort","reverse"][B](r=>{x[r]=function(...e){b=!0;try{return S[G][r].apply(this,e)}finally{b=!1,P(this,F)}}});var ke=(e,r)=>{!g||-1===(r=(e=e._d||(q[t](e,"_d",{value:q[I](null),writable:!0}),e._d))[r]||(e[r]=[]))[H](g)&&(r[M](g),g[v][M](r))},P=(e,r)=>{if(!b&&e._d&&e._d[r])for(var t=e._d[r][W](),a=0,n=t[F];a<n;a++){var o=t[a];o[p]?o[p](o):o()}},w=e=>{for(var r=e[v][F];r--;){var t=e[v][r],a=t[H](e);-1!==a&&(t[a]=t[t[F]-1],t.pop())}e[v]=[]},Ne=(r,e)=>{var t=()=>{w(t);var e=g;g=t;try{r()}finally{g=e}};return t[v]=[],t[p]=e,t(),()=>w(t)},Ee=e=>{if(!e||typeof e!=pe||e._y||e instanceof o)return e;if(e._p)return e._p;var r=new Proxy(e,{get:(e,r,t)=>{if("_y"===r)return!0;if("_t"===r)return e;if("_d"===r)return e._d;if(S[J](e)&&x[s](r))return x[r];var a=q.getOwnPropertyDescriptor(e,r);if(a&&a[l]){var n="_"+r;return n in e||Ne(()=>t[n]=a[l][z](t)),t[n]}return ke(e,r),!(r=f[l](e,r,t))||typeof r!=pe||r instanceof o?r:Ee(r)},set:(e,r,t,a)=>{var n=e[r],o=S[J](e),i=o?c(r)<e[F]:q[G][s][z](e,r);if(!o&&!i)for(var l=q[u](e);l&&l!==q[G];){if(q[G][s][z](l,r)){var v=f.set(l,r,t);return b||t===n||P(e,r),v}l=q[u](l)}return v=f.set(e,r,t,a),!b&&v&&(i&&t===n||(P(e,r),o?P(e,F):i||P(e,"_k"))),v},deleteProperty:(e,r)=>{var t=q[G][s][z](e,r),a=f.deleteProperty(e,r);return a&&t&&(P(e,r),S[J](e)?P(e,F):P(e,"_k")),a},ownKeys:e=>(ke(e,"_k"),f.ownKeys(e))});return q[t](e,"_p",{value:r,enumerable:!1}),r},A=Ee({}),Oe=q[I](null);Oe.text=(e,r)=>{r=null==r?"":r,e[a]!==j(r)&&(e[a]=r)},Oe.html=(e,r)=>{e[n]!=r&&(e[n]=null==r?"":r)},Oe[K]=(e,r)=>{e[Y]===fe?e[d]=!!r:"radio"===e[Y]?e[d]=e[K]==r:e[K]!=r&&(e[K]=null==r?"":r)},Oe[Pe]=(e,r,t)=>{null==r||!1===r?e[U](t):(r=!0===r?"":j(r),e[Q](t)!==r&&e.setAttribute(t,r))},Oe[ue]=(e,r)=>{var t=e._n||"",a="";if(typeof r==_)a=r;else if(r)for(var n in r)r[n]&&(a+=(a?" ":"")+n);t=t+(t&&a?" ":"")+a,e[he]!==t&&(e[he]=t)};var Te=(O,e)=>{if(O._m)return O._m;var r=O[Q]("s-data");if(y[r]){r=y[r](),e&&q.setPrototypeOf(r,e);var T=Ee(r);T.$refs={},T.$root=O,T.$store=A,T.$parent=e;var t=[],a=q[I](null),C=e=>{var r=e.target;if(e[Y]!==ve||!r._c)for(var t=O[ee],a=e[Y];r&&r!==t;){var n=r._h&&r._h[a];if(n)for(var o=r._s,i=n[F];i--;){var l=n[i],v=l.p;if(l.model){var f=r[Y]===fe?r[d]:r[K];if(typeof f!=_||(l=f[de]())&&isFinite(l)&&(48===l[be](0)&&1!==l[F]&&46!==l[be](1)||(f=c(l))),typeof v==_)o&&(o[v]=f);else{for(var s=o,u=0,p=v[F]-1;u<p&&s;)s=s[v[u++]];s&&(s[v[p]]=f)}}else typeof(f=Ae(o,v)).val==se&&f.val[z](f.ctx,e)}r=r[ee]}},L=e=>{a[e]||(a[e]=!0,O[le](e,C))},$=(h,m,t)=>{if(1===h.nodeType&&!h[V]("s-ignore"))if(h!==O&&h[V]("s-data"))(e=Te(h,m))&&t[M](e[xe]);else{var e=!(v=h[Q]("s-if"))&&"TEMPLATE"===h[X]&&h[Q]("s-for"),a=[];if(h[V](ue)&&!h._n&&(h._n=h[he]),v){var g=D[ie](""),r=null,n=[];h[te](g);var o="!"===v[0],i=-1===(l=o?v[W](1):v)[H](".")?l:l[R](".");return t[M](()=>{n[B](e=>e())}),t[M](Ne(()=>{var e=Ae(m,i).val;o&&(e=!e),e?r||((r=h[ne](!0))[U]("s-if"),$(r,m,n),g[ee][ae](r,g)):r&&(n[B](e=>e()),n=[],r[oe](),r=null)},we))}if(e&&-1!==(v=e[H](" in "))){var b,l=e[W](0,v)[de](),v=e[W](v+4)[de](),x=(l=l.replace(/[()]/g,"")[R](","))[0][de](),P=l[1]?l[1][de]():null,w=-1===v[H](".")?v:v[R]("."),A=(v=h[Q]("s-key"))?-1===v[H](".")?v:v[R]("."):null,g=D[ie](""),k=q[I](null);return h[te](g),t[M](()=>{for(var e in k)k[e][_e][B](e=>e())}),t[M](Ne(()=>{var e=Ae(m,w).val||[];S[J](e)&&ke(e,F);var r=D.createDocumentFragment(),t=g;b=q[I](null);for(var a,n=S[J](e),o=n?e:q.keys(e),i=(n?e:o)[F],l=0;l<i;l++){var v=n?l:o[l],f=n?e[l]:e[v],s=null==f||typeof f!=pe?j(f):A?Ae(f,A).val:j(v)+"_o";b[s]&&(s+="_"+l);var u=k[s];if(u)u.scope[x]=f,P&&(u.scope[P]=v);else{var p=h.content[ne](!0),c=Ee(q[I](m));c[x]=f,P&&(c[P]=v);for(var d=S[G][W][z](p.childNodes),_=[],y=0;y<d[F];y++)$(d[y],c,_);u={nodes:d,scope:c,cleanups:_},k[s]=u}if(u[ye][0]!==t[re]){for(y=0;y<u[ye][F];y++)r.appendChild(u[ye][y]);t[ee][ae](r,t[re])}t=u[ye][u[ye][F]-1],b[s]=!0}for(a in k)b[a]||(k[a][_e][B](e=>e()),k[a][ye][B](e=>e[oe]()),delete k[a])},we))}if(h.hasAttributes())for(var f=h.attributes,s=f[F];s--;){var u,p,c,d=f[s],_=d[Z],y=d[K];58===_[be](0)?(u=_[W](1),d=(p=33===y[be](0))?y[W](1):y,i=-1===d[H](".")?d:d[R]("."),a[M]({type:Pe,name:u,path:i,neg:p})):115===_[be](0)&&45===_[be](1)&&(p=_[W](2),c=-1===y[H](".")?y:y[R]("."),p===ge||p===me?(e=>{var r=Ae(m,c);typeof r.val==se&&(e===ge?we(()=>{var e=r.val[z](r.ctx,h);typeof e==se&&t[M](e)}):t[M](()=>r.val[z](r.ctx,h)))})(p):"effect"===p?t[M](Ne(()=>{var e=Ae(m,c);typeof e.val==se&&e.val[z](e.ctx,h)},we)):"model"===p?(a[M]({type:K,path:c}),h._s=m,h._h=h._h||{},(_=h[Y]===fe||"radio"===h[Y]||"SELECT"===h[X]?"change":ve)==ve&&(h[le]("compositionstart",()=>h._c=!0),h[le]("compositionend",()=>{h._c=!1,C({target:h,type:ve})})),(h._h[_]=h._h[_]||[])[ce]({model:!0,p:c}),L(_)):"ref"===p?T.$refs[y]=h:Oe[p]?a[M]({type:p,path:c}):(h._s=m,h._h=h._h||{},(h._h[p]=h._h[p]||[])[M]({p:c}),L(p)))}a[F]&&t[M](Ne(()=>{for(var e=a[F];e--;){var r=a[e],t=(t=Ae(m,r.path)).val&&typeof t.val==se?t.val[z](t.ctx,h):t.val;r[Y]===Pe?(r.neg&&(t=!t),r[Z]===ue?Oe[ue](h,t):Oe[Pe](h,t,r[Z])):Oe[r[Y]](h,t)}},we));for(var N=h.firstChild;N;){var E=N[re];$(N,m,t),N=E}}};return $(O,T,t),T[ge]&&T[ge](),e={unmount:()=>{for(var e in T[me]&&T[me][z](T),t[B](e=>e()),a)O.removeEventListener(e,C);O._m=null}},O._m=e}};return{data:(e,r)=>{y[e]=r},start:()=>{for(var e=D.querySelectorAll("[s-data]"),r=e[F];r--;)Te(e[r])},store:(e,r)=>void 0===r?A[e]:A[e]=r,raw:e=>e&&e._t||e,mount:e=>Te(e),unmount:e=>{e&&e._m&&e._m[xe]()}}})();window.spiki=e})();
